{
  "name": "persona-council",
  "branchName": "feature/persona-council",
  "goal": "Introduce a Persona Council to the Arete BUILD MODE planning system — three behavioral archetypes (Harvester, Architect, Preparer) representing GUIDE MODE end users. Wired into the PM agent and AGENTS.md so the council fires automatically during feature planning as a voice-of-the-customer check.",
  "userStories": [
    {
      "id": "persona-council-docs",
      "title": "Create Persona Council documentation",
      "description": "Create dev/personas/PERSONA_COUNCIL.md with Harvester, Architect, and Preparer archetypes. Each persona must include: core job (one line), behavioral description, what they care about, what they don't care about, friction threshold, representative voice (2-3 direct quotes), and an Evidence section labeled as hypothesis-only. Create dev/personas/COUNCIL_INSTRUCTIONS.md with trigger conditions, decision policy as a flat list (no tables), voice calibration guidance, and evidence grounding policy. No markdown tables in either file — prose and labeled lists only. Content is for agent consumption.",
      "acceptanceCriteria": [
        "dev/personas/PERSONA_COUNCIL.md exists with Harvester, Architect, and Preparer archetypes",
        "Each persona has: core job, behavior, cares/doesn't-care, friction threshold, representative voice (2-3 quotes), Evidence section",
        "Each Evidence section contains: 'No evidence collected yet. This persona is hypothesis-based. Treat council output as directional, not validated.'",
        "An Evidence Policy note exists at the top of PERSONA_COUNCIL.md: unsupported persona claims are assumptions, not facts",
        "dev/personas/COUNCIL_INSTRUCTIONS.md exists with trigger conditions, decision policy (flat list, no table), voice calibration, evidence grounding guidance",
        "Neither file uses markdown tables",
        "Decision policy uses flat list format (e.g. 'all-three-value: required, on by default')"
      ],
      "status": "complete",
      "passes": true,
      "attemptCount": 1
    },
    {
      "id": "pm-agent-persona-council",
      "title": "Update PM agent with Persona Council section",
      "description": "Add a Persona Council section to .pi/agents/product-manager.md. The section must be <= 15 lines, use 'offer a council check' framing (not 'always run'), trigger on user workflow steps / input prompts / configuration decisions, and explicitly exclude internal architecture / build tooling / bug fixes. Reference dev/personas/COUNCIL_INSTRUCTIONS.md for the decision policy — do not reproduce it inline. Place the section after 'Product Pre-Mortem' and before 'PRD Creation' in the file.",
      "acceptanceCriteria": [
        ".pi/agents/product-manager.md contains a '## Persona Council' section",
        "Section is 15 lines or fewer",
        "Uses 'offer a council check' framing (not 'always' or 'must always')",
        "Trigger condition is scoped to user-facing workflow, input prompts, or configuration decisions",
        "Exclusions are explicit: internal arch, build tooling, bug fixes with no UX change",
        "References dev/personas/COUNCIL_INSTRUCTIONS.md for decision policy",
        "Does not duplicate the decision policy inline",
        "Total file length remains under 145 lines",
        "Existing PM agent sections are unchanged"
      ],
      "status": "complete",
      "passes": true,
      "attemptCount": 1,
      "dependencies": ["persona-council-docs"]
    },
    {
      "id": "agents-md-personas",
      "title": "Add Personas source file and rebuild AGENTS.md",
      "description": "Create .agents/sources/builder/personas.md with a compressed [Personas] block in pipe-delimited AGENTS.md format. Include: what the council is, persona file locations (dev/personas/PERSONA_COUNCIL.md and dev/personas/COUNCIL_INSTRUCTIONS.md), invoke triggers (user-facing workflow/input/configuration), and exclusions (internal arch/build tooling/bug fixes). If scripts/build-agents.ts needs updating to include the new source file in the BUILD target, make that change. Run npm run build:agents:dev to rebuild root AGENTS.md.",
      "acceptanceCriteria": [
        ".agents/sources/builder/personas.md exists with a [Personas] block in pipe-delimited AGENTS.md format",
        "Block follows the compression style of other AGENTS.md source sections",
        "npm run build:agents:dev runs without errors",
        "grep -i 'persona' AGENTS.md returns a result showing the council is referenced",
        "The [Personas] block references both dev/personas/PERSONA_COUNCIL.md and dev/personas/COUNCIL_INSTRUCTIONS.md",
        "Existing AGENTS.md content is unchanged (additive only)"
      ],
      "status": "complete",
      "passes": true,
      "attemptCount": 1,
      "dependencies": ["persona-council-docs"]
    }
  ],
  "metadata": {
    "createdAt": "2026-02-19T04:30:00.000Z",
    "completedAt": "2026-02-19T05:15:00.000Z",
    "totalTasks": 3,
    "completedTasks": 3,
    "failedTasks": 0
  }
}
