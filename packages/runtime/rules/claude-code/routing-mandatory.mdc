---
description: MANDATORY ROUTING - Read this FIRST before ANY response
globs: ["**/*"]
alwaysApply: true
---

# üõë STOP - READ THIS FIRST

Before responding to ANY user request in this Aret√© workspace:

## Is this a PM action?

Tour/orientation ("give me a tour", "how does this work", "what can I do here"), agenda creation ("create/prepare a meeting agenda"), meeting prep, planning ("plan the week", "prepare a weekly plan", "weekly priorities"), synthesis, discovery, PRD, roadmap, competitive analysis, process meetings, **onboarding** ("I'm starting a new job", "30/60/90"), **getting-started** ("help me set up Aret√©", "I'm new to Aret√©"), **seed context** ("import my meetings", "backfill history"), etc.

## If YES, follow this EXACT sequence:

```bash
# 1. ROUTE (MANDATORY)
arete skill route "<user's exact message>"
# or: arete route "<user's message>"

# 2. CHECK TYPE (MANDATORY)
# Router returns type: 'skill' or 'tool'

# 3a. IF SKILL (type: 'skill', action: 'load'):
# Read the skill file, e.g.:
# .agents/skills/meeting-prep/SKILL.md
# Then EXECUTE the skill's complete workflow

# 3b. IF TOOL (type: 'tool', action: 'activate'):
# Read the tool file, e.g.:
# .cursor/tools/onboarding/TOOL.md
# Then ACTIVATE the tool (see tool activation pattern in pm-workspace.mdc)
```

## If NO:

Proceed with normal tools.

---

**Anti-Pattern** (what NOT to do):
```
‚ùå User: "Help me prep for my meeting with Alex"
‚ùå Agent: [Immediately runs Glob/Grep/Read to find Alex's files]
‚ùå Problem: Skipped router, skipped skill, improvised workflow
```

**Correct Pattern (Skill)**:
```
‚úÖ User: "Help me prep for my meeting with Alex"
‚úÖ Agent: [Runs `arete skill route "help me prep for my meeting with alex"`]
‚úÖ Agent: [Router returns: meeting-prep, type: skill, action: load]
‚úÖ Agent: [Reads .agents/skills/meeting-prep/SKILL.md]
‚úÖ Agent: [Follows the skill's complete workflow]
```

**Correct Pattern (Tool)**:
```
‚úÖ User: "I'm starting a new job"
‚úÖ Agent: [Runs `arete skill route "I'm starting a new job"`]
‚úÖ Agent: [Router returns: onboarding, type: tool, action: activate]
‚úÖ Agent: [Reads .cursor/tools/onboarding/TOOL.md]
‚úÖ Agent: [Activates tool: asks scope, creates project, guides Phase 1]
```

---

**You WILL be asked to verify you followed this. If you skipped the router and skill, you FAILED the task.**
